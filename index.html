<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üíå Confession Envelope</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #ffe4ec, #dff2ff);
      font-family: 'Arial', sans-serif;
      overflow-x: hidden;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      position: relative;
    }
    .envelope {
      width: 300px;
      height: 200px;
      background: #ffcdd2;
      position: relative;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.4s ease-in-out;
    }
    .envelope:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 0;
      border-left: 150px solid transparent;
      border-right: 150px solid transparent;
      border-bottom: 100px solid #f8bbd0;
      transition: transform 0.4s ease-in-out;
      transform-origin: top center;
      z-index: 2;
    }
    .envelope.open:before {
      transform: rotateX(180deg);
    }
    .letter-content {
      max-width: 600px;
      background: #fff8e1;
      border: 2px solid #fdd835;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      line-height: 1.8;
      font-size: 1.1rem;
      display: none;
      margin-top: 30px;
      animation: fadeIn 1s ease forwards;
    }
    .letter-content h1 {
      color: #4a4a4a;
      text-align: center;
      margin-bottom: 20px;
    }
    .letter-content .closing {
      margin-top: 30px;
      text-align: right;
      color: #666;
      font-weight: bold;
    }
    .controls {
      margin-top: 20px;
      text-align: center;
    }
    #toggleMusicButton {
      padding: 10px 20px;
      font-size: 1rem;
      background: #90caf9;
      border: none;
      border-radius: 6px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    #toggleMusicButton.playing {
      background: #fdd835;
      color: #333;
    }
    @keyframes fadeIn {
      0% {opacity: 0; transform: translateY(20px);}
      100% {opacity: 1; transform: translateY(0);}
    }
    iframe {
      display: none;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="envelope" id="envelope" onclick="openEnvelope()">
    <!-- flap is styled -->
  </div>

  <div class="controls">
    <button id="toggleMusicButton" onclick="toggleMusic()">Play Music üéµ</button>
  </div>

  <div class="letter-content" id="letter">
    <h1>Dear Bunly,</h1>
    <div>
      I don‚Äôt know if you ever get to read this but I genuinely hope you do since I put quite a lot of effort into this.  
      I don‚Äôt think you even remember my existence since it‚Äôs been some time since we broke up. 
      I know we‚Äôre out of time and I know there‚Äôs a slim chance of us turning the table. Yet, somehow I still couldn‚Äôt give myself the closure I needed.
      I just want to check up on you a little bit because it seems like you aren‚Äôt doing well. 
      Actually I‚Äôve been checking your reposts and I noticed you‚Äôve been down these few days. I hope you‚Äôre doing okay. 
      Don‚Äôt ever let negativity get you in however state and problem you‚Äôre in.
      Anyway, I hope your teeth and head are doing better now. Whether you respond or not, please remember that you‚Äôre loved and appreciated. 
      Always know that there‚Äôs always someone out there rooting for you.

      Fighting and take care, Dear!
    </div>
    <div class="closing">
      With love,<br/>
          Sey
    </div>
  </div>

  <iframe 
    id="musicPlayer" 
    width="100%" 
    height="166" 
    scrolling="no" 
    frameborder="no" 
    allow="autoplay"
    src=""
  ></iframe>
</div>

<script>
  const envelope = document.getElementById('envelope');
  const letter = document.getElementById('letter');
  const musicPlayer = document.getElementById('musicPlayer');
  const toggleMusicButton = document.getElementById('toggleMusicButton');

  let isOpened = false;
  let isMusicPlaying = false;

  // Use the gxldentaev track you sent
  const soundcloudTrackURL = "https://on.soundcloud.com/rTYO80Fxxr5EffcUDH";
  const soundcloudEmbedURL = "https://w.soundcloud.com/player/?url=" + encodeURIComponent(soundcloudTrackURL) + "&color=%23fdd835&auto_play=true&hide_related=true&show_comments=false&show_user=false&show_reposts=false";

  function openEnvelope() {
    if (!isOpened) {
      envelope.classList.add('open');
      setTimeout(() => {
        letter.style.display = 'block';
      }, 500);
      isOpened = true;
    }
  }

  function toggleMusic() {
    if (!isMusicPlaying) {
      musicPlayer.src = soundcloudEmbedURL;
      toggleMusicButton.classList.add("playing");
      toggleMusicButton.textContent = "Pause Music ‚è∏Ô∏è";
      isMusicPlaying = true;
    } else {
      musicPlayer.src = "";
      toggleMusicButton.classList.remove("playing");
      toggleMusicButton.textContent = "Play Music üéµ";
      isMusicPlaying = false;
    }
  }
</script>

</body>
</html>
