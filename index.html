<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Confession Letter</title>
  <style>
    body {
      background: #e6d6c3;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      font-family: Arial, sans-serif;
      overflow: auto;
      padding: 20px;
    }

    .letter {
      background: rgba(255, 255, 255, 0.9);
      padding: 40px;
      max-width: 700px;
      line-height: 1.8;
      font-size: 1.3rem;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      border: 2px solid #bfa78b;
      border-radius: 16px;
      white-space: pre-wrap;
      transition: transform 0.15s ease-in-out;
      max-height: 80vh;
      overflow-y: auto;
    }

    .letter h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #7b6d61;
      font-size: 2rem;
    }

    .closing {
      margin-top: 40px;
      text-align: right;
      color: #7b6d61;
      font-size: 1.5rem;
    }

    [contenteditable="true"] {
      outline: none;
    }

    .controls {
      margin-top: 20px;
      text-align: center;
    }

    button {
      background: #7b6d61;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
    }

    .shape {
      position: fixed;
      top: -20px;
      font-size: 18px;
      animation: fall linear forwards;
      opacity: 0.7;
      pointer-events: none;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    @media print {
      body { background: white; }
      .controls { display: none; }
      .letter { border: none; box-shadow: none; transform: none; }
    }
  </style>
</head>
<body>
  <div>
    <div class="letter" id="letter">
      <h1 contenteditable="true">Dear love,</h1>
      <div contenteditable="true">
I don’t know if you ever get to read this but I genuinely hope you do since I put quite a lot of effort into this html link. 
Uhm, I don’t think you even remember my existence since it’s been some time since we broke up. I know we’re out of time and i know there’s a slim chance of us turning the table. Yet, somehow i still couldn’t give myself the closure i needed. Well, i’m not expecting anything so….please don’t get me wrong. I’m not here to seek your validation and sympathy. I just want to check up on you a little bit because it seems like you aren’t doing well.
Actually I’ve been checking your reposts and i noticed you’ve been down these few days. I don’t know what happened though but i hope you’re doing okay. Yes i’m aware this isn’t much, however it’s disturbing me seeing you like this. Don’t ever let negativity get you in however state and problem you’re in.
Anyway, I hope your teeth and head are doing better now and regardless of whether you respond back or not, please remember that you’re loved and appreciated. Always know that there’s always someone out there rooting for you.
Fighting and take care, Bunly! 
      </div>
      <div class="closing" contenteditable="true">
      Sincerely,<br>
      Someone whom you have forgotten 
      </div>
    </div>

    <div class="controls">
      <button id="toggleMusicButton" onclick="toggleMusic()">Play Music</button>
    </div>

    <!-- Hidden SoundCloud iframe -->
    <iframe
      id="musicPlayer"
      width="0"
      height="0"
      frameborder="no"
      scrolling="no"
      allow="autoplay"
      src=""
    ></iframe>
  </div>

  <script>
    const letter = document.getElementById("letter");
    const musicPlayer = document.getElementById("musicPlayer");
    const toggleMusicButton = document.getElementById("toggleMusicButton");

    // Animate letter gently
    function animate(){
      requestAnimationFrame(animate);
      let time = Date.now()/1000;
      let scale = 1 + 0.01 * Math.sin(time*2);
      letter.style.transform = `scale(${scale})`;
    }
    animate();

    // Floating shapes
    const colors = ["#a3b4c4", "#bfa78b", "#f5b6c3", "#b0d8e9"];
    const shapes = ["✦", "❀", "✿", "✧"];

    setInterval(() => {
      const shape = document.createElement("div");
      shape.className = "shape";
      shape.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
      shape.style.left = Math.random() * 100 + "vw";
      shape.style.color = colors[Math.floor(Math.random() * colors.length)];
      shape.style.animationDuration = 4 + Math.random() * 3 + "s";
      document.body.appendChild(shape);
      setTimeout(() => shape.remove(), 8000);
    }, 900);

    // Music toggle
    let isMusicPlaying = false;
    const musicURL = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1321067364&color=%23ff5500&auto_play=true&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false";

    const musicURLPaused = musicURL.replace("auto_play=true", "auto_play=false");

    function toggleMusic() {
      if (!isMusicPlaying) {
        musicPlayer.src = musicURL;
        toggleMusicButton.textContent = "Pause Music";
        isMusicPlaying = true;
      } else {
        musicPlayer.src = musicURLPaused;
        toggleMusicButton.textContent = "Play Music";
        isMusicPlaying = false;
      }
    }
  </script>
</body>
</html>
